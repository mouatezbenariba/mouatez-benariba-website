{"version":3,"file":"honeybadger.min.js","sources":["../../../core/node_modules/stacktrace-parser/dist/stack-trace-parser.esm.js","../../../core/build/src/util.js","../../../core/build/src/store.js","../../../core/build/src/client.js","../../../core/build/src/types.js","../../../core/build/src/index.js","../../build/src/browser/util.js","../../build/src/browser/integrations/onerror.js","../../build/src/browser/integrations/onunhandledrejection.js","../../build/src/browser/integrations/breadcrumbs.js","../../build/src/browser/integrations/timers.js","../../build/src/browser/integrations/event_listeners.js","../../build/src/browser/transport.js","../../build/src/browser.js"],"sourcesContent":["var UNKNOWN_FUNCTION = '<unknown>';\n/**\n * This parses the different stack traces and puts them into one format\n * This borrows heavily from TraceKit (https://github.com/csnover/TraceKit)\n */\n\nfunction parse(stackString) {\n  var lines = stackString.split('\\n');\n  return lines.reduce(function (stack, line) {\n    var parseResult = parseChrome(line) || parseWinjs(line) || parseGecko(line) || parseNode(line) || parseJSC(line);\n\n    if (parseResult) {\n      stack.push(parseResult);\n    }\n\n    return stack;\n  }, []);\n}\nvar chromeRe = /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\/|[a-z]:\\\\|\\\\\\\\).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nvar chromeEvalRe = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\nfunction parseChrome(line) {\n  var parts = chromeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n\n  var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n  var submatch = chromeEvalRe.exec(parts[2]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line/column number\n    parts[2] = submatch[1]; // url\n\n    parts[3] = submatch[2]; // line\n\n    parts[4] = submatch[3]; // column\n  }\n\n  return {\n    file: !isNative ? parts[2] : null,\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: isNative ? [parts[2]] : [],\n    lineNumber: parts[3] ? +parts[3] : null,\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar winjsRe = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseWinjs(line) {\n  var parts = winjsRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar geckoRe = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar geckoEvalRe = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\n\nfunction parseGecko(line) {\n  var parts = geckoRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n  var submatch = geckoEvalRe.exec(parts[3]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line number\n    parts[3] = submatch[1];\n    parts[4] = submatch[2];\n    parts[5] = null; // no column when eval\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: parts[2] ? parts[2].split(',') : [],\n    lineNumber: parts[4] ? +parts[4] : null,\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar javaScriptCoreRe = /^\\s*(?:([^@]*)(?:\\((.*?)\\))?@)?(\\S.*?):(\\d+)(?::(\\d+))?\\s*$/i;\n\nfunction parseJSC(line) {\n  var parts = javaScriptCoreRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[4],\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar nodeRe = /^\\s*at (?:((?:\\[object object\\])?[^\\\\/]+(?: \\[as \\S+\\])?) )?\\(?(.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseNode(line) {\n  var parts = nodeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nexport { parse };\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowserConfig = exports.clone = exports.formatCGIData = exports.filterUrl = exports.filter = exports.generateStackTrace = exports.endpoint = exports.instrument = exports.isErrorObject = exports.makeNotice = exports.logger = exports.sanitize = exports.shallowClone = exports.runAfterNotifyHandlers = exports.runBeforeNotifyHandlers = exports.getSourceForBacktrace = exports.getCauses = exports.calculateBacktraceShift = exports.DEFAULT_BACKTRACE_SHIFT = exports.makeBacktrace = exports.objectIsExtensible = exports.objectIsEmpty = exports.mergeNotice = exports.merge = void 0;\nvar stackTraceParser = __importStar(require(\"stacktrace-parser\"));\nfunction merge(obj1, obj2) {\n    var result = {};\n    for (var k in obj1) {\n        result[k] = obj1[k];\n    }\n    for (var k in obj2) {\n        result[k] = obj2[k];\n    }\n    return result;\n}\nexports.merge = merge;\nfunction mergeNotice(notice1, notice2) {\n    var result = merge(notice1, notice2);\n    if (notice1.context && notice2.context) {\n        result.context = merge(notice1.context, notice2.context);\n    }\n    return result;\n}\nexports.mergeNotice = mergeNotice;\nfunction objectIsEmpty(obj) {\n    for (var k in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, k)) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.objectIsEmpty = objectIsEmpty;\nfunction objectIsExtensible(obj) {\n    if (typeof Object.isExtensible !== 'function') {\n        return true;\n    }\n    return Object.isExtensible(obj);\n}\nexports.objectIsExtensible = objectIsExtensible;\nfunction makeBacktrace(stack, filterHbSourceCode, logger) {\n    if (filterHbSourceCode === void 0) { filterHbSourceCode = false; }\n    if (logger === void 0) { logger = console; }\n    try {\n        var backtrace = stackTraceParser\n            .parse(stack)\n            .map(function (line) {\n            return {\n                file: line.file,\n                method: line.methodName,\n                number: line.lineNumber,\n                column: line.column\n            };\n        });\n        if (filterHbSourceCode) {\n            backtrace.splice(0, calculateBacktraceShift(backtrace));\n        }\n        return backtrace;\n    }\n    catch (err) {\n        logger.debug(err);\n        return [];\n    }\n}\nexports.makeBacktrace = makeBacktrace;\nfunction isFrameFromHbSourceCode(frame) {\n    var hasHbFile = false;\n    var hasHbMethod = false;\n    if (frame.file) {\n        hasHbFile = frame.file.toLowerCase().indexOf('@honeybadger-io') > -1;\n    }\n    if (frame.method) {\n        hasHbMethod = frame.method.toLowerCase().indexOf('@honeybadger-io') > -1;\n    }\n    return hasHbFile || hasHbMethod;\n}\nexports.DEFAULT_BACKTRACE_SHIFT = 3;\n/**\n * If {@link generateStackTrace} is used, we want to exclude frames that come from\n * Honeybadger's source code.\n *\n * Logic:\n * - For each frame, increment the shift if source code is from Honeybadger\n * - If a frame from an <anonymous> file is encountered increment the shift ONLY if between Honeybadger source code\n *   (i.e. previous and next frames are from Honeybadger)\n * - Exit when frame encountered is not from Honeybadger source code\n *\n * Note: this will not always work, especially in browser versions where code\n *       is minified, uglified and bundled.\n *       For those cases we default to 3:\n *       - generateStackTrace\n *       - makeNotice\n *       - notify\n */\nfunction calculateBacktraceShift(backtrace) {\n    var shift = 0;\n    for (var i = 0; i < backtrace.length; i++) {\n        var frame = backtrace[i];\n        if (isFrameFromHbSourceCode(frame)) {\n            shift++;\n            continue;\n        }\n        if (!frame.file || frame.file === '<anonymous>') {\n            var nextFrame = backtrace[i + 1];\n            if (nextFrame && isFrameFromHbSourceCode(nextFrame)) {\n                shift++;\n                continue;\n            }\n        }\n        break;\n    }\n    return shift || exports.DEFAULT_BACKTRACE_SHIFT;\n}\nexports.calculateBacktraceShift = calculateBacktraceShift;\nfunction getCauses(notice, logger) {\n    if (notice.cause) {\n        var causes = [];\n        var cause = notice;\n        while (causes.length < 3 && (cause = cause.cause)) {\n            causes.push({\n                class: cause.name,\n                message: cause.message,\n                backtrace: typeof cause.stack == 'string' ? makeBacktrace(cause.stack, false, logger) : null\n            });\n        }\n        return causes;\n    }\n    return [];\n}\nexports.getCauses = getCauses;\nfunction getSourceForBacktrace(backtrace, getSourceFileHandler) {\n    return __awaiter(this, void 0, void 0, function () {\n        var result, index, trace, fileContent;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    result = [];\n                    if (!getSourceFileHandler || !backtrace || !backtrace.length) {\n                        return [2 /*return*/, result];\n                    }\n                    index = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!backtrace.length) return [3 /*break*/, 3];\n                    trace = backtrace.splice(0)[index];\n                    return [4 /*yield*/, getSourceFileHandler(trace.file)];\n                case 2:\n                    fileContent = _a.sent();\n                    result[index] = getSourceCodeSnippet(fileContent, trace.number);\n                    index++;\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/, result];\n            }\n        });\n    });\n}\nexports.getSourceForBacktrace = getSourceForBacktrace;\nfunction runBeforeNotifyHandlers(notice, handlers) {\n    var result = true;\n    for (var i = 0, len = handlers.length; i < len; i++) {\n        var handler = handlers[i];\n        if (handler(notice) === false) {\n            result = false;\n        }\n    }\n    return result;\n}\nexports.runBeforeNotifyHandlers = runBeforeNotifyHandlers;\nfunction runAfterNotifyHandlers(notice, handlers, error) {\n    if (notice && notice.afterNotify) {\n        notice.afterNotify(error, notice);\n    }\n    for (var i = 0, len = handlers.length; i < len; i++) {\n        handlers[i](error, notice);\n    }\n    return true;\n}\nexports.runAfterNotifyHandlers = runAfterNotifyHandlers;\n// Returns a new object with properties from other object.\nfunction shallowClone(obj) {\n    if (typeof (obj) !== 'object' || obj === null) {\n        return {};\n    }\n    var result = {};\n    for (var k in obj) {\n        result[k] = obj[k];\n    }\n    return result;\n}\nexports.shallowClone = shallowClone;\nfunction sanitize(obj, maxDepth) {\n    if (maxDepth === void 0) { maxDepth = 8; }\n    var seenObjects = [];\n    function seen(obj) {\n        if (!obj || typeof (obj) !== 'object') {\n            return false;\n        }\n        for (var i = 0; i < seenObjects.length; i++) {\n            var value = seenObjects[i];\n            if (value === obj) {\n                return true;\n            }\n        }\n        seenObjects.push(obj);\n        return false;\n    }\n    function canSerialize(obj) {\n        var typeOfObj = typeof obj;\n        // Functions are TMI\n        if (/function/.test(typeOfObj)) {\n            // Let special toJSON method pass as it's used by JSON.stringify (#722)\n            return obj.name === 'toJSON';\n        }\n        // Symbols can't convert to strings.\n        if (/symbol/.test(typeOfObj)) {\n            return false;\n        }\n        if (obj === null) {\n            return false;\n        }\n        // No prototype, likely created with `Object.create(null)`.\n        if (typeof obj === 'object' && typeof obj.hasOwnProperty === 'undefined') {\n            return false;\n        }\n        return true;\n    }\n    function serialize(obj, depth) {\n        if (depth === void 0) { depth = 0; }\n        if (depth >= maxDepth) {\n            return '[DEPTH]';\n        }\n        // Inspect invalid types\n        if (!canSerialize(obj)) {\n            return Object.prototype.toString.call(obj);\n        }\n        // Halt circular references\n        if (seen(obj)) {\n            return '[RECURSION]';\n        }\n        // Serialize inside arrays\n        if (Array.isArray(obj)) {\n            return obj.map(function (o) { return safeSerialize(o, depth + 1); });\n        }\n        // Serialize inside objects\n        if (typeof (obj) === 'object') {\n            var ret = {};\n            for (var k in obj) {\n                var v = obj[k];\n                if (Object.prototype.hasOwnProperty.call(obj, k) && (k != null) && (v != null)) {\n                    ret[k] = safeSerialize(v, depth + 1);\n                }\n            }\n            return ret;\n        }\n        // Return everything else untouched\n        return obj;\n    }\n    function safeSerialize(obj, depth) {\n        if (depth === void 0) { depth = 0; }\n        try {\n            return serialize(obj, depth);\n        }\n        catch (e) {\n            return \"[ERROR] \".concat(e);\n        }\n    }\n    return safeSerialize(obj);\n}\nexports.sanitize = sanitize;\nfunction logger(client) {\n    var log = function (method) {\n        return function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (method === 'debug') {\n                if (!client.config.debug) {\n                    return;\n                }\n                // Log at default level so that you don't need to also enable verbose\n                // logging in Chrome.\n                method = 'log';\n            }\n            args.unshift('[Honeybadger]');\n            (_a = client.config.logger)[method].apply(_a, args);\n        };\n    };\n    return {\n        log: log('log'),\n        info: log('info'),\n        debug: log('debug'),\n        warn: log('warn'),\n        error: log('error')\n    };\n}\nexports.logger = logger;\n/**\n * Converts any object into a notice object (which at minimum has the same\n * properties as Error, but supports additional Honeybadger properties.)\n */\nfunction makeNotice(thing) {\n    var notice;\n    if (!thing) {\n        notice = {};\n    }\n    else if (isErrorObject(thing)) {\n        var e = thing;\n        notice = merge(thing, { name: e.name, message: e.message, stack: e.stack, cause: e.cause });\n    }\n    else if (typeof thing === 'object') {\n        notice = shallowClone(thing);\n    }\n    else {\n        var m = String(thing);\n        notice = { message: m };\n    }\n    return notice;\n}\nexports.makeNotice = makeNotice;\nfunction isErrorObject(thing) {\n    return thing instanceof Error\n        || Object.prototype.toString.call(thing) === '[object Error]'; // Important for cross-realm objects\n}\nexports.isErrorObject = isErrorObject;\n/**\n * Instrument an existing function inside an object (usually global).\n * @param {!Object} object\n * @param {!String} name\n * @param {!Function} replacement\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction instrument(object, name, replacement) {\n    if (!object || !name || !replacement || !(name in object)) {\n        return;\n    }\n    try {\n        var original = object[name];\n        while (original && original.__hb_original) {\n            original = original.__hb_original;\n        }\n        object[name] = replacement(original);\n        object[name].__hb_original = original;\n    }\n    catch (_e) {\n        // Ignores errors where \"original\" is a restricted object (see #1001)\n        // Uncaught Error: Permission denied to access property \"__hb_original\"\n        // Also ignores:\n        //   Error: TypeError: Cannot set property onunhandledrejection of [object Object] which has only a getter\n        //   User-Agent: Mozilla/5.0 (Linux; Android 10; SAMSUNG SM-G960F) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/12.1 Chrome/79.0.3945.136 Mobile Safari/537.36\n    }\n}\nexports.instrument = instrument;\nfunction endpoint(base, path) {\n    var endpoint = base.trim().replace(/\\/$/, '');\n    path = path.trim().replace(/(^\\/|\\/$)/g, '');\n    return \"\".concat(endpoint, \"/\").concat(path);\n}\nexports.endpoint = endpoint;\nfunction generateStackTrace() {\n    try {\n        throw new Error('');\n    }\n    catch (e) {\n        if (e.stack) {\n            return e.stack;\n        }\n    }\n    var maxStackSize = 10;\n    var stack = [];\n    var curr = arguments.callee;\n    while (curr && stack.length < maxStackSize) {\n        if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n            stack.push(RegExp.$1 || '<anonymous>');\n        }\n        else {\n            stack.push('<anonymous>');\n        }\n        try {\n            curr = curr.caller;\n        }\n        catch (e) {\n            break;\n        }\n    }\n    return stack.join('\\n');\n}\nexports.generateStackTrace = generateStackTrace;\nfunction filter(obj, filters) {\n    if (!is('Object', obj)) {\n        return;\n    }\n    if (!is('Array', filters)) {\n        filters = [];\n    }\n    var seen = [];\n    function filter(obj) {\n        var k, newObj;\n        if (is('Object', obj) || is('Array', obj)) {\n            if (seen.indexOf(obj) !== -1) {\n                return '[CIRCULAR DATA STRUCTURE]';\n            }\n            seen.push(obj);\n        }\n        if (is('Object', obj)) {\n            newObj = {};\n            for (k in obj) {\n                if (filterMatch(k, filters)) {\n                    newObj[k] = '[FILTERED]';\n                }\n                else {\n                    newObj[k] = filter(obj[k]);\n                }\n            }\n            return newObj;\n        }\n        if (is('Array', obj)) {\n            return obj.map(function (v) {\n                return filter(v);\n            });\n        }\n        if (is('Function', obj)) {\n            return '[FUNC]';\n        }\n        return obj;\n    }\n    return filter(obj);\n}\nexports.filter = filter;\nfunction filterMatch(key, filters) {\n    for (var i = 0; i < filters.length; i++) {\n        if (key.toLowerCase().indexOf(filters[i].toLowerCase()) !== -1) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction is(type, obj) {\n    var klass = Object.prototype.toString.call(obj).slice(8, -1);\n    return obj !== undefined && obj !== null && klass === type;\n}\nfunction filterUrl(url, filters) {\n    if (!filters) {\n        return url;\n    }\n    if (typeof url !== 'string') {\n        return url;\n    }\n    var query = url.split(/\\?/, 2)[1];\n    if (!query) {\n        return url;\n    }\n    var result = url;\n    query.split(/[&]\\s?/).forEach(function (pair) {\n        var _a = pair.split('=', 2), key = _a[0], value = _a[1];\n        if (filterMatch(key, filters)) {\n            result = result.replace(\"\".concat(key, \"=\").concat(value), \"\".concat(key, \"=[FILTERED]\"));\n        }\n    });\n    return result;\n}\nexports.filterUrl = filterUrl;\nfunction formatCGIData(vars, prefix) {\n    if (prefix === void 0) { prefix = ''; }\n    var formattedVars = {};\n    Object.keys(vars).forEach(function (key) {\n        var formattedKey = prefix + key.replace(/\\W/g, '_').toUpperCase();\n        formattedVars[formattedKey] = vars[key];\n    });\n    return formattedVars;\n}\nexports.formatCGIData = formatCGIData;\nfunction clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nexports.clone = clone;\nfunction getSourceCodeSnippet(fileData, lineNumber, sourceRadius) {\n    if (sourceRadius === void 0) { sourceRadius = 2; }\n    if (!fileData) {\n        return null;\n    }\n    var lines = fileData.split('\\n');\n    // add one empty line because array index starts from 0, but error line number is counted from 1\n    lines.unshift('');\n    var start = lineNumber - sourceRadius;\n    var end = lineNumber + sourceRadius;\n    var result = {};\n    for (var i = start; i <= end; i++) {\n        var line = lines[i];\n        if (typeof line === 'string') {\n            result[i] = line;\n        }\n    }\n    return result;\n}\nfunction isBrowserConfig(config) {\n    return config.async !== undefined;\n}\nexports.isBrowserConfig = isBrowserConfig;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GlobalStore = void 0;\nvar util_1 = require(\"./util\");\nvar GlobalStore = /** @class */ (function () {\n    function GlobalStore(contents, breadcrumbsLimit) {\n        this.contents = contents;\n        this.breadcrumbsLimit = breadcrumbsLimit;\n    }\n    GlobalStore.create = function (contents, breadcrumbsLimit) {\n        return new GlobalStore(contents, breadcrumbsLimit);\n    };\n    GlobalStore.prototype.available = function () {\n        return true;\n    };\n    GlobalStore.prototype.getContents = function (key) {\n        var value = key ? this.contents[key] : this.contents;\n        return JSON.parse(JSON.stringify(value));\n    };\n    GlobalStore.prototype.setContext = function (context) {\n        this.contents.context = (0, util_1.merge)(this.contents.context, context || {});\n    };\n    GlobalStore.prototype.addBreadcrumb = function (breadcrumb) {\n        if (this.contents.breadcrumbs.length == this.breadcrumbsLimit) {\n            this.contents.breadcrumbs.shift();\n        }\n        this.contents.breadcrumbs.push(breadcrumb);\n    };\n    GlobalStore.prototype.clear = function () {\n        this.contents.context = {};\n        this.contents.breadcrumbs = [];\n    };\n    GlobalStore.prototype.run = function (callback) {\n        return callback();\n    };\n    return GlobalStore;\n}());\nexports.GlobalStore = GlobalStore;\n//# sourceMappingURL=store.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Client = void 0;\nvar util_1 = require(\"./util\");\nvar store_1 = require(\"./store\");\nvar notifier = {\n    name: 'honeybadger-js',\n    url: 'https://github.com/honeybadger-io/honeybadger-js',\n    version: '__VERSION__'\n};\n// Split at commas and spaces\nvar TAG_SEPARATOR = /,|\\s+/;\n// Checks for non-blank characters\nvar NOT_BLANK = /\\S/;\nvar Client = /** @class */ (function () {\n    function Client(opts, transport) {\n        if (opts === void 0) { opts = {}; }\n        this.__pluginsExecuted = false;\n        this.__store = null;\n        this.__beforeNotifyHandlers = [];\n        this.__afterNotifyHandlers = [];\n        this.config = __assign({ apiKey: null, endpoint: 'https://api.honeybadger.io', environment: null, hostname: null, projectRoot: null, component: null, action: null, revision: null, reportData: null, breadcrumbsEnabled: true, maxBreadcrumbs: 40, maxObjectDepth: 8, logger: console, developmentEnvironments: ['dev', 'development', 'test'], debug: false, tags: null, enableUncaught: true, enableUnhandledRejection: true, afterUncaught: function () { return true; }, filters: ['creditcard', 'password'], __plugins: [] }, opts);\n        this.__initStore();\n        this.__transport = transport;\n        this.logger = (0, util_1.logger)(this);\n    }\n    Client.prototype.getVersion = function () {\n        return notifier.version;\n    };\n    Client.prototype.configure = function (opts) {\n        var _this = this;\n        if (opts === void 0) { opts = {}; }\n        for (var k in opts) {\n            this.config[k] = opts[k];\n        }\n        if (!this.__pluginsExecuted) {\n            this.__pluginsExecuted = true;\n            this.config.__plugins.forEach(function (plugin) { return plugin.load(_this); });\n        }\n        return this;\n    };\n    Client.prototype.__initStore = function () {\n        this.__store = new store_1.GlobalStore({ context: {}, breadcrumbs: [] }, this.config.maxBreadcrumbs);\n    };\n    Client.prototype.beforeNotify = function (handler) {\n        this.__beforeNotifyHandlers.push(handler);\n        return this;\n    };\n    Client.prototype.afterNotify = function (handler) {\n        this.__afterNotifyHandlers.push(handler);\n        return this;\n    };\n    Client.prototype.setContext = function (context) {\n        if (typeof context === 'object' && context != null) {\n            this.__store.setContext(context);\n        }\n        return this;\n    };\n    Client.prototype.resetContext = function (context) {\n        this.logger.warn('Deprecation warning: `Honeybadger.resetContext()` has been deprecated; please use `Honeybadger.clear()` instead.');\n        this.__store.clear();\n        if (typeof context === 'object' && context !== null) {\n            this.__store.setContext(context);\n        }\n        return this;\n    };\n    Client.prototype.clear = function () {\n        this.__store.clear();\n        return this;\n    };\n    Client.prototype.notify = function (noticeable, name, extra) {\n        var _this = this;\n        if (name === void 0) { name = undefined; }\n        if (extra === void 0) { extra = undefined; }\n        var preConditionError = null;\n        var notice = this.makeNotice(noticeable, name, extra);\n        if (!notice) {\n            this.logger.debug('failed to build error report');\n            preConditionError = new Error('failed to build error report');\n        }\n        if (!preConditionError && this.config.reportData === false) {\n            this.logger.debug('skipping error report: honeybadger.js is disabled', notice);\n            preConditionError = new Error('honeybadger.js is disabled');\n        }\n        if (!preConditionError && this.__developmentMode()) {\n            this.logger.log('honeybadger.js is in development mode; the following error report will be sent in production.', notice);\n            preConditionError = new Error('honeybadger.js is in development mode');\n        }\n        if (!preConditionError && !this.config.apiKey) {\n            this.logger.warn('could not send error report: no API key has been configured', notice);\n            preConditionError = new Error('missing API key');\n        }\n        // we need to have the source file data before the beforeNotifyHandlers,\n        // in case they modify them\n        var sourceCodeData = notice && notice.backtrace ? notice.backtrace.map(function (trace) { return (0, util_1.shallowClone)(trace); }) : null;\n        var beforeNotifyResult = (0, util_1.runBeforeNotifyHandlers)(notice, this.__beforeNotifyHandlers);\n        if (!preConditionError && !beforeNotifyResult) {\n            this.logger.debug('skipping error report: beforeNotify handlers returned false', notice);\n            preConditionError = new Error('beforeNotify handlers returned false');\n        }\n        if (preConditionError) {\n            (0, util_1.runAfterNotifyHandlers)(notice, this.__afterNotifyHandlers, preConditionError);\n            return false;\n        }\n        this.addBreadcrumb('Honeybadger Notice', {\n            category: 'notice',\n            metadata: {\n                message: notice.message,\n                name: notice.name,\n                stack: notice.stack\n            }\n        });\n        var breadcrumbs = this.__store.getContents('breadcrumbs');\n        notice.__breadcrumbs = this.config.breadcrumbsEnabled ? breadcrumbs : [];\n        (0, util_1.getSourceForBacktrace)(sourceCodeData, this.__getSourceFileHandler)\n            .then(function (sourcePerTrace) {\n            sourcePerTrace.forEach(function (source, index) {\n                notice.backtrace[index].source = source;\n            });\n            var payload = _this.__buildPayload(notice);\n            _this.__transport\n                .send({\n                headers: {\n                    'X-API-Key': _this.config.apiKey,\n                    'Content-Type': 'application/json',\n                    'Accept': 'text/json, application/json'\n                },\n                method: 'POST',\n                endpoint: (0, util_1.endpoint)(_this.config.endpoint, '/v1/notices/js'),\n                maxObjectDepth: _this.config.maxObjectDepth,\n                logger: _this.logger,\n            }, payload)\n                .then(function (res) {\n                if (res.statusCode !== 201) {\n                    (0, util_1.runAfterNotifyHandlers)(notice, _this.__afterNotifyHandlers, new Error(\"Bad HTTP response: \".concat(res.statusCode)));\n                    _this.logger.warn(\"Error report failed: unknown response from server. code=\".concat(res.statusCode));\n                    return;\n                }\n                var uuid = JSON.parse(res.body).id;\n                (0, util_1.runAfterNotifyHandlers)((0, util_1.merge)(notice, {\n                    id: uuid\n                }), _this.__afterNotifyHandlers);\n                _this.logger.info(\"Error report sent \\u26A1 https://app.honeybadger.io/notice/\".concat(uuid));\n            })\n                .catch(function (err) {\n                _this.logger.error('Error report failed: an unknown error occurred.', \"message=\".concat(err.message));\n                (0, util_1.runAfterNotifyHandlers)(notice, _this.__afterNotifyHandlers, err);\n            });\n        });\n        return true;\n    };\n    /**\n     * An async version of {@link notify} that resolves only after the notice has been reported to Honeybadger.\n     * Implemented using the {@link afterNotify} hook.\n     * Rejects if for any reason the report failed to be reported.\n     * Useful in serverless environments (AWS Lambda).\n     */\n    Client.prototype.notifyAsync = function (noticeable, name, extra) {\n        var _this = this;\n        if (name === void 0) { name = undefined; }\n        if (extra === void 0) { extra = undefined; }\n        return new Promise(function (resolve, reject) {\n            var applyAfterNotify = function (partialNotice) {\n                var originalAfterNotify = partialNotice.afterNotify;\n                partialNotice.afterNotify = function (err) {\n                    originalAfterNotify === null || originalAfterNotify === void 0 ? void 0 : originalAfterNotify.call(_this, err);\n                    if (err) {\n                        return reject(err);\n                    }\n                    resolve();\n                };\n            };\n            // We have to respect any afterNotify hooks that come from the arguments\n            var objectToOverride;\n            if (noticeable.afterNotify) {\n                objectToOverride = noticeable;\n            }\n            else if (name && name.afterNotify) {\n                objectToOverride = name;\n            }\n            else if (extra && extra.afterNotify) {\n                objectToOverride = extra;\n            }\n            else if (name && typeof name === 'object') {\n                objectToOverride = name;\n            }\n            else if (extra) {\n                objectToOverride = extra;\n            }\n            else {\n                objectToOverride = name = {};\n            }\n            applyAfterNotify(objectToOverride);\n            _this.notify(noticeable, name, extra);\n        });\n    };\n    Client.prototype.makeNotice = function (noticeable, name, extra) {\n        if (name === void 0) { name = undefined; }\n        if (extra === void 0) { extra = undefined; }\n        var notice = (0, util_1.makeNotice)(noticeable);\n        if (name && !(typeof name === 'object')) {\n            var n = String(name);\n            name = { name: n };\n        }\n        if (name) {\n            notice = (0, util_1.mergeNotice)(notice, name);\n        }\n        if (typeof extra === 'object' && extra !== null) {\n            notice = (0, util_1.mergeNotice)(notice, extra);\n        }\n        if ((0, util_1.objectIsEmpty)(notice)) {\n            return null;\n        }\n        var context = this.__store.getContents('context');\n        var noticeTags = this.__constructTags(notice.tags);\n        var contextTags = this.__constructTags(context['tags']);\n        var configTags = this.__constructTags(this.config.tags);\n        // Turning into a Set will remove duplicates\n        var tags = noticeTags.concat(contextTags).concat(configTags);\n        var uniqueTags = tags.filter(function (item, index) { return tags.indexOf(item) === index; });\n        notice = (0, util_1.merge)(notice, {\n            name: notice.name || 'Error',\n            context: (0, util_1.merge)(context, notice.context),\n            projectRoot: notice.projectRoot || this.config.projectRoot,\n            environment: notice.environment || this.config.environment,\n            component: notice.component || this.config.component,\n            action: notice.action || this.config.action,\n            revision: notice.revision || this.config.revision,\n            tags: uniqueTags,\n        });\n        // If we're passed a custom backtrace array, use it\n        // Otherwise we make one. \n        if (!Array.isArray(notice.backtrace) || !notice.backtrace.length) {\n            if (typeof notice.stack !== 'string' || !notice.stack.trim()) {\n                notice.stack = (0, util_1.generateStackTrace)();\n                notice.backtrace = (0, util_1.makeBacktrace)(notice.stack, true, this.logger);\n            }\n            else {\n                notice.backtrace = (0, util_1.makeBacktrace)(notice.stack, false, this.logger);\n            }\n        }\n        return notice;\n    };\n    Client.prototype.addBreadcrumb = function (message, opts) {\n        if (!this.config.breadcrumbsEnabled) {\n            return;\n        }\n        opts = opts || {};\n        var metadata = (0, util_1.shallowClone)(opts.metadata);\n        var category = opts.category || 'custom';\n        var timestamp = new Date().toISOString();\n        this.__store.addBreadcrumb({\n            category: category,\n            message: message,\n            metadata: metadata,\n            timestamp: timestamp\n        });\n        return this;\n    };\n    Client.prototype.__getBreadcrumbs = function () {\n        return this.__store.getContents('breadcrumbs').slice();\n    };\n    Client.prototype.__getContext = function () {\n        return this.__store.getContents('context');\n    };\n    Client.prototype.__developmentMode = function () {\n        if (this.config.reportData === true) {\n            return false;\n        }\n        return (this.config.environment && this.config.developmentEnvironments.includes(this.config.environment));\n    };\n    Client.prototype.__buildPayload = function (notice) {\n        var headers = (0, util_1.filter)(notice.headers, this.config.filters) || {};\n        var cgiData = (0, util_1.filter)(__assign(__assign({}, notice.cgiData), (0, util_1.formatCGIData)(headers, 'HTTP_')), this.config.filters);\n        return {\n            notifier: notifier,\n            breadcrumbs: {\n                enabled: !!this.config.breadcrumbsEnabled,\n                trail: notice.__breadcrumbs || []\n            },\n            error: {\n                class: notice.name,\n                message: notice.message,\n                backtrace: notice.backtrace,\n                fingerprint: notice.fingerprint,\n                tags: notice.tags,\n                causes: (0, util_1.getCauses)(notice, this.logger),\n            },\n            request: {\n                url: (0, util_1.filterUrl)(notice.url, this.config.filters),\n                component: notice.component,\n                action: notice.action,\n                context: notice.context,\n                cgi_data: cgiData,\n                params: (0, util_1.filter)(notice.params, this.config.filters) || {},\n                session: (0, util_1.filter)(notice.session, this.config.filters) || {}\n            },\n            server: {\n                project_root: notice.projectRoot,\n                environment_name: notice.environment,\n                revision: notice.revision,\n                hostname: this.config.hostname,\n                time: new Date().toUTCString()\n            },\n            details: notice.details || {}\n        };\n    };\n    Client.prototype.__constructTags = function (tags) {\n        if (!tags) {\n            return [];\n        }\n        return tags.toString().split(TAG_SEPARATOR).filter(function (tag) { return NOT_BLANK.test(tag); });\n    };\n    return Client;\n}());\nexports.Client = Client;\n//# sourceMappingURL=client.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=types.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = exports.Types = exports.Client = void 0;\nvar client_1 = require(\"./client\");\nObject.defineProperty(exports, \"Client\", { enumerable: true, get: function () { return client_1.Client; } });\n__exportStar(require(\"./store\"), exports);\nexports.Types = __importStar(require(\"./types\"));\nexports.Util = __importStar(require(\"./util\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.globalThisOrWindow = exports.preferCatch = exports.encodeCookie = exports.decodeCookie = exports.localURLPathname = exports.parseURL = exports.nativeFetch = exports.stringTextOfElement = exports.stringSelectorOfElement = exports.stringNameOfElement = void 0;\n/**\n * Converts an HTMLElement into a human-readable string.\n * @param {!HTMLElement} element\n * @return {string}\n */\nfunction stringNameOfElement(element) {\n    if (!element || !element.tagName) {\n        return '';\n    }\n    var name = element.tagName.toLowerCase();\n    // Ignore the root <html> element in selectors and events.\n    if (name === 'html') {\n        return '';\n    }\n    if (element.id) {\n        name += \"#\".concat(element.id);\n    }\n    var stringClassNames = element.getAttribute('class');\n    if (stringClassNames) {\n        stringClassNames.split(/\\s+/).forEach(function (className) {\n            name += \".\".concat(className);\n        });\n    }\n    ['alt', 'name', 'title', 'type'].forEach(function (attrName) {\n        var attr = element.getAttribute(attrName);\n        if (attr) {\n            name += \"[\".concat(attrName, \"=\\\"\").concat(attr, \"\\\"]\");\n        }\n    });\n    var siblings = getSiblings(element);\n    if (siblings.length > 1) {\n        name += \":nth-child(\".concat(Array.prototype.indexOf.call(siblings, element) + 1, \")\");\n    }\n    return name;\n}\nexports.stringNameOfElement = stringNameOfElement;\nfunction stringSelectorOfElement(element) {\n    var name = stringNameOfElement(element);\n    if (element.parentNode && element.parentNode.tagName) {\n        var parentName = stringSelectorOfElement(element.parentNode);\n        if (parentName.length > 0) {\n            return \"\".concat(parentName, \" > \").concat(name);\n        }\n    }\n    return name;\n}\nexports.stringSelectorOfElement = stringSelectorOfElement;\nfunction stringTextOfElement(element) {\n    var text = element.textContent || element.innerText || '';\n    if (!text && (element.type === 'submit' || element.type === 'button')) {\n        text = element.value;\n    }\n    return truncate(text.trim(), 300);\n}\nexports.stringTextOfElement = stringTextOfElement;\nfunction nativeFetch() {\n    var global = globalThisOrWindow();\n    if (!global.fetch) {\n        return false;\n    }\n    if (isNative(global.fetch)) {\n        return true;\n    }\n    // If fetch isn't native, it may be wrapped by someone else. Try to get\n    // a pristine function from an iframe.\n    try {\n        var sandbox = document.createElement('iframe');\n        sandbox.style.display = 'none';\n        document.head.appendChild(sandbox);\n        var result = sandbox.contentWindow.fetch && isNative(sandbox.contentWindow.fetch);\n        document.head.removeChild(sandbox);\n        return result;\n    }\n    catch (err) {\n        if (console && console.warn) {\n            console.warn('failed to detect native fetch via iframe: ' + err);\n        }\n    }\n    return false;\n}\nexports.nativeFetch = nativeFetch;\nfunction isNative(func) {\n    return func.toString().indexOf('native') !== -1;\n}\nfunction parseURL(url) {\n    // Regexp: https://tools.ietf.org/html/rfc3986#appendix-B\n    var match = url.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/) || {};\n    return {\n        protocol: match[2],\n        host: match[4],\n        pathname: match[5]\n    };\n}\nexports.parseURL = parseURL;\nfunction localURLPathname(url) {\n    var parsed = parseURL(url);\n    var parsedDocURL = parseURL(document.URL);\n    // URL must be relative\n    if (!parsed.host || !parsed.protocol) {\n        return parsed.pathname;\n    }\n    // Same domain\n    if (parsed.protocol === parsedDocURL.protocol && parsed.host === parsedDocURL.host) {\n        return parsed.pathname;\n    }\n    // x-domain\n    return \"\".concat(parsed.protocol, \"://\").concat(parsed.host).concat(parsed.pathname);\n}\nexports.localURLPathname = localURLPathname;\nfunction decodeCookie(string) {\n    var result = {};\n    string.split(/[;,]\\s?/).forEach(function (pair) {\n        var _a = pair.split('=', 2), key = _a[0], value = _a[1];\n        result[key] = value;\n    });\n    return result;\n}\nexports.decodeCookie = decodeCookie;\nfunction encodeCookie(object) {\n    if (typeof object !== 'object') {\n        return undefined;\n    }\n    var cookies = [];\n    for (var k in object) {\n        cookies.push(k + '=' + object[k]);\n    }\n    return cookies.join(';');\n}\nexports.encodeCookie = encodeCookie;\n// Helpers\nfunction getSiblings(element) {\n    try {\n        var nodes = element.parentNode.childNodes;\n        var siblings_1 = [];\n        Array.prototype.forEach.call(nodes, function (node) {\n            if (node.tagName && node.tagName === element.tagName) {\n                siblings_1.push(node);\n            }\n        });\n        return siblings_1;\n    }\n    catch (e) {\n        return [];\n    }\n}\nfunction truncate(string, length) {\n    if (string.length > length) {\n        string = string.substr(0, length) + '...';\n    }\n    return string;\n}\n// Used to decide which error handling method to use when wrapping async\n// handlers: try/catch, or `window.onerror`. When available, `window.onerror`\n// will provide more information in modern browsers.\nexports.preferCatch = (function () {\n    var preferCatch = true;\n    // In case we're in an environment without access to \"window\", lets make sure theres a window.\n    if (typeof window === 'undefined')\n        return preferCatch;\n    // IE < 10\n    if (!window.atob) {\n        preferCatch = false;\n    }\n    // Modern browsers support the full ErrorEvent API\n    // See https://developer.mozilla.org/en-US/docs/Web/API/ErrorEvent\n    if (window.ErrorEvent) {\n        try {\n            if ((new window.ErrorEvent('')).colno === 0) {\n                preferCatch = false;\n            }\n            // eslint-disable-next-line no-empty\n        }\n        catch (_e) { }\n    }\n    return preferCatch;\n})();\n/** globalThis has fairly good support. But just in case, lets check its defined.\n * @see {https://caniuse.com/?search=globalThis}\n */\nfunction globalThisOrWindow() {\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    return window;\n}\nexports.globalThisOrWindow = globalThisOrWindow;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.onError = exports.ignoreNextOnError = void 0;\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrument = core_1.Util.instrument, makeNotice = core_1.Util.makeNotice;\nvar ignoreOnError = 0;\nvar currentTimeout;\nfunction ignoreNextOnError() {\n    ignoreOnError += 1;\n    clearTimeout(currentTimeout);\n    currentTimeout = setTimeout(function () {\n        ignoreOnError = 0;\n    });\n}\nexports.ignoreNextOnError = ignoreNextOnError;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction onError(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            instrument(_window, 'onerror', function (original) {\n                var onerror = function (msg, url, line, col, err) {\n                    client.logger.debug('window.onerror callback invoked', arguments);\n                    if (ignoreOnError > 0) {\n                        client.logger.debug('Ignoring window.onerror (error likely reported earlier)', arguments);\n                        ignoreOnError -= 1;\n                        return;\n                    }\n                    // See https://developer.mozilla.org/en/docs/Web/API/GlobalEventHandlers/onerror#Notes\n                    if (line === 0 && /Script error\\.?/.test(msg)) {\n                        if (client.config.enableUncaught) {\n                            // Log only if the user wants to report uncaught errors\n                            client.logger.warn('Ignoring cross-domain script error: enable CORS to track these types of errors', arguments);\n                        }\n                        return;\n                    }\n                    var notice = makeNotice(err);\n                    if (!notice.name) {\n                        notice.name = 'window.onerror';\n                    }\n                    if (!notice.message) {\n                        notice.message = msg;\n                    }\n                    if (!notice.stack) {\n                        // Simulate v8 stack\n                        notice.stack = [notice.message, '\\n    at ? (', url || 'unknown', ':', line || 0, ':', col || 0, ')'].join('');\n                    }\n                    client.addBreadcrumb((notice.name === 'window.onerror' || !notice.name) ? 'window.onerror' : \"window.onerror: \".concat(notice.name), {\n                        category: 'error',\n                        metadata: {\n                            name: notice.name,\n                            message: notice.message,\n                            stack: notice.stack\n                        }\n                    });\n                    if (client.config.enableUncaught) {\n                        client.notify(notice);\n                    }\n                };\n                return function (msg, url, line, col, err) {\n                    onerror(msg, url, line, col, err);\n                    if (typeof original === 'function') {\n                        return original.apply(_window, arguments);\n                    }\n                    return false;\n                };\n            });\n        }\n    };\n}\nexports.onError = onError;\n//# sourceMappingURL=onerror.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrument = core_1.Util.instrument;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            if (!client.config.enableUnhandledRejection) {\n                return;\n            }\n            instrument(_window, 'onunhandledrejection', function (original) {\n                // See https://developer.mozilla.org/en-US/docs/Web/API/Window/unhandledrejection_event\n                function onunhandledrejection(promiseRejectionEvent) {\n                    var _a;\n                    client.logger.debug('window.onunhandledrejection callback invoked', arguments);\n                    if (!client.config.enableUnhandledRejection) {\n                        return;\n                    }\n                    var reason = promiseRejectionEvent.reason;\n                    if (reason instanceof Error) {\n                        // simulate v8 stack\n                        // const fileName = reason.fileName || 'unknown'\n                        // const lineNumber = reason.lineNumber || 0\n                        var fileName = 'unknown';\n                        var lineNumber = 0;\n                        var stackFallback = \"\".concat(reason.message, \"\\n    at ? (\").concat(fileName, \":\").concat(lineNumber, \")\");\n                        var stack = reason.stack || stackFallback;\n                        var err = {\n                            name: reason.name,\n                            message: \"UnhandledPromiseRejectionWarning: \".concat(reason),\n                            stack: stack\n                        };\n                        client.addBreadcrumb(\"window.onunhandledrejection: \".concat(err.name), {\n                            category: 'error',\n                            metadata: err\n                        });\n                        client.notify(err);\n                        return;\n                    }\n                    var message = typeof reason === 'string' ? reason : ((_a = JSON.stringify(reason)) !== null && _a !== void 0 ? _a : 'Unspecified reason');\n                    client.notify({\n                        name: 'window.onunhandledrejection',\n                        message: \"UnhandledPromiseRejectionWarning: \".concat(message)\n                    });\n                }\n                return function (promiseRejectionEvent) {\n                    onunhandledrejection(promiseRejectionEvent);\n                    if (typeof original === 'function') {\n                        original.apply(this, arguments);\n                    }\n                };\n            });\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=onunhandledrejection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar sanitize = core_1.Util.sanitize, instrument = core_1.Util.instrument;\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            function breadcrumbsEnabled(type) {\n                if (client.config.breadcrumbsEnabled === true) {\n                    return true;\n                }\n                if (type) {\n                    return client.config.breadcrumbsEnabled[type] === true;\n                }\n                return client.config.breadcrumbsEnabled !== false;\n            }\n            // Breadcrumbs: instrument console\n            (function () {\n                if (!breadcrumbsEnabled('console')) {\n                    return;\n                }\n                function inspectArray(obj) {\n                    if (!Array.isArray(obj)) {\n                        return '';\n                    }\n                    return obj.map(function (value) {\n                        try {\n                            return String(value);\n                        }\n                        catch (e) {\n                            return '[unknown]';\n                        }\n                    }).join(' ');\n                }\n                ['debug', 'info', 'warn', 'error', 'log'].forEach(function (level) {\n                    instrument(_window.console, level, function (original) {\n                        return function () {\n                            var args = Array.prototype.slice.call(arguments);\n                            var message = inspectArray(args);\n                            var opts = {\n                                category: 'log',\n                                metadata: {\n                                    level: level,\n                                    arguments: sanitize(args, 3)\n                                }\n                            };\n                            client.addBreadcrumb(message, opts);\n                            if (typeof original === 'function') {\n                                Function.prototype.apply.call(original, _window.console, arguments);\n                            }\n                        };\n                    });\n                });\n            })();\n            // Breadcrumbs: instrument click events\n            (function () {\n                if (!breadcrumbsEnabled('dom')) {\n                    return;\n                }\n                _window.addEventListener('click', function (event) {\n                    var message, selector, text;\n                    try {\n                        message = (0, util_1.stringNameOfElement)(event.target);\n                        selector = (0, util_1.stringSelectorOfElement)(event.target);\n                        text = (0, util_1.stringTextOfElement)(event.target);\n                    }\n                    catch (e) {\n                        message = 'UI Click';\n                        selector = '[unknown]';\n                        text = '[unknown]';\n                    }\n                    // There's nothing to display\n                    if (message.length === 0) {\n                        return;\n                    }\n                    client.addBreadcrumb(message, {\n                        category: 'ui.click',\n                        metadata: {\n                            selector: selector,\n                            text: text,\n                            event: event\n                        }\n                    });\n                }, _window.location ? true : false); // In CloudFlare workers useCapture must be false. window.locaiton is a hacky way to detect it.\n            })();\n            // Breadcrumbs: instrument XMLHttpRequest\n            (function () {\n                if (!breadcrumbsEnabled('network')) {\n                    return;\n                }\n                // Some environments may not support XMLHttpRequest.\n                if (typeof XMLHttpRequest === 'undefined')\n                    return;\n                // -- On xhr.open: capture initial metadata\n                instrument(XMLHttpRequest.prototype, 'open', function (original) {\n                    return function () {\n                        // eslint-disable-next-line @typescript-eslint/no-this-alias\n                        var xhr = this;\n                        var url = arguments[1];\n                        var method = typeof arguments[0] === 'string' ? arguments[0].toUpperCase() : arguments[0];\n                        var message = \"\".concat(method, \" \").concat((0, util_1.localURLPathname)(url));\n                        this.__hb_xhr = {\n                            type: 'xhr',\n                            method: method,\n                            url: url,\n                            message: message\n                        };\n                        if (typeof original === 'function') {\n                            original.apply(xhr, arguments);\n                        }\n                    };\n                });\n                // -- On xhr.send: set up xhr.onreadystatechange to report breadcrumb\n                instrument(XMLHttpRequest.prototype, 'send', function (original) {\n                    return function () {\n                        // eslint-disable-next-line @typescript-eslint/no-this-alias\n                        var xhr = this;\n                        function onreadystatechangeHandler() {\n                            if (xhr.readyState === 4) {\n                                var message = void 0;\n                                if (xhr.__hb_xhr) {\n                                    xhr.__hb_xhr.status_code = xhr.status;\n                                    message = xhr.__hb_xhr.message;\n                                    delete xhr.__hb_xhr.message;\n                                }\n                                client.addBreadcrumb(message || 'XMLHttpRequest', {\n                                    category: 'request',\n                                    metadata: xhr.__hb_xhr\n                                });\n                            }\n                        }\n                        if ('onreadystatechange' in xhr && typeof xhr.onreadystatechange === 'function') {\n                            instrument(xhr, 'onreadystatechange', function (original) {\n                                return function () {\n                                    onreadystatechangeHandler();\n                                    if (typeof original === 'function') {\n                                        // eslint-disable-next-line prefer-rest-params\n                                        original.apply(this, arguments);\n                                    }\n                                };\n                            });\n                        }\n                        else {\n                            xhr.onreadystatechange = onreadystatechangeHandler;\n                        }\n                        if (typeof original === 'function') {\n                            // eslint-disable-next-line prefer-rest-params\n                            original.apply(xhr, arguments);\n                        }\n                    };\n                });\n            })();\n            // Breadcrumbs: instrument fetch\n            (function () {\n                if (!breadcrumbsEnabled('network')) {\n                    return;\n                }\n                if (!(0, util_1.nativeFetch)()) {\n                    // Polyfills use XHR.\n                    return;\n                }\n                instrument(_window, 'fetch', function (original) {\n                    return function () {\n                        // eslint-disable-next-line prefer-rest-params\n                        var input = arguments[0];\n                        var method = 'GET';\n                        var url;\n                        if (typeof input === 'string') {\n                            url = input;\n                        }\n                        else if ('Request' in _window && input instanceof Request) {\n                            url = input.url;\n                            if (input.method) {\n                                method = input.method;\n                            }\n                        }\n                        else {\n                            url = String(input);\n                        }\n                        if (arguments[1] && arguments[1].method) {\n                            method = arguments[1].method;\n                        }\n                        if (typeof method === 'string') {\n                            method = method.toUpperCase();\n                        }\n                        // localURLPathname cant be constructed for CF workers due to reliance on \"document\".\n                        var message = \"\".concat(method, \" \").concat(typeof document === 'undefined' ? url : (0, util_1.localURLPathname)(url));\n                        var metadata = {\n                            type: 'fetch',\n                            method: method,\n                            url: url\n                        };\n                        return original\n                            .apply(this, arguments)\n                            .then(function (response) {\n                            metadata['status_code'] = response.status;\n                            client.addBreadcrumb(message, {\n                                category: 'request',\n                                metadata: metadata\n                            });\n                            return response;\n                        })\n                            .catch(function (error) {\n                            client.addBreadcrumb('fetch error', {\n                                category: 'error',\n                                metadata: metadata\n                            });\n                            throw error;\n                        });\n                    };\n                });\n            })();\n            // Breadcrumbs: instrument navigation\n            (function () {\n                if (!breadcrumbsEnabled('navigation')) {\n                    return;\n                }\n                if (_window.location == null) {\n                    // Most likely in a CF worker, we should be listening to fetch requests instead.\n                    return;\n                }\n                // The last known href of the current page\n                var lastHref = _window.location.href;\n                function recordUrlChange(from, to) {\n                    lastHref = to;\n                    client.addBreadcrumb('Page changed', {\n                        category: 'navigation',\n                        metadata: {\n                            from: from,\n                            to: to\n                        }\n                    });\n                }\n                if (typeof addEventListener === 'function') {\n                    addEventListener('popstate', function (_event) {\n                        recordUrlChange(lastHref, _window.location.href);\n                    });\n                }\n                // https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\n                // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n                function historyWrapper(original) {\n                    return function () {\n                        var url = arguments.length > 2 ? arguments[2] : undefined;\n                        if (url) {\n                            recordUrlChange(lastHref, String(url));\n                        }\n                        return original.apply(this, arguments);\n                    };\n                }\n                instrument(_window.history, 'pushState', historyWrapper);\n                instrument(_window.history, 'replaceState', historyWrapper);\n            })();\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=breadcrumbs.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrument = core_1.Util.instrument;\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            // Wrap timers\n            (function () {\n                function instrumentTimer(wrapOpts) {\n                    return function (original) {\n                        // See https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout\n                        return function (func, delay) {\n                            if (typeof func === 'function') {\n                                var args_1 = Array.prototype.slice.call(arguments, 2);\n                                func = client.__wrap(func, wrapOpts);\n                                return original(function () {\n                                    func.apply(void 0, args_1);\n                                }, delay);\n                            }\n                            else {\n                                return original(func, delay);\n                            }\n                        };\n                    };\n                }\n                instrument(_window, 'setTimeout', instrumentTimer({ component: 'setTimeout' }));\n                instrument(_window, 'setInterval', instrumentTimer({ component: 'setInterval' }));\n            })();\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=timers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrument = core_1.Util.instrument;\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            // Wrap event listeners\n            // Event targets borrowed from bugsnag-js:\n            // See https://github.com/bugsnag/bugsnag-js/blob/d55af916a4d3c7757f979d887f9533fe1a04cc93/src/bugsnag.js#L542\n            var targets = ['EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode', 'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase', 'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow', 'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList', 'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'];\n            targets.forEach(function (prop) {\n                var prototype = _window[prop] && _window[prop].prototype;\n                if (prototype && Object.prototype.hasOwnProperty.call(prototype, 'addEventListener')) {\n                    instrument(prototype, 'addEventListener', function (original) {\n                        var wrapOpts = { component: \"\".concat(prop, \".prototype.addEventListener\") };\n                        // See https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n                        return function (type, listener, useCapture, wantsUntrusted) {\n                            try {\n                                if (listener && listener.handleEvent != null) {\n                                    listener.handleEvent = client.__wrap(listener.handleEvent, wrapOpts);\n                                }\n                            }\n                            catch (e) {\n                                // Ignore 'Permission denied to access property \"handleEvent\"' errors.\n                                client.logger.error(e);\n                            }\n                            return original.call(this, type, client.__wrap(listener, wrapOpts), useCapture, wantsUntrusted);\n                        };\n                    });\n                    instrument(prototype, 'removeEventListener', function (original) {\n                        return function (type, listener, useCapture, wantsUntrusted) {\n                            original.call(this, type, listener, useCapture, wantsUntrusted);\n                            return original.call(this, type, client.__wrap(listener), useCapture, wantsUntrusted);\n                        };\n                    });\n                }\n            });\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=event_listeners.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserTransport = void 0;\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"./util\");\nvar sanitize = core_1.Util.sanitize;\n/**\n * Helper function to get typesafe Object.entries()\n * https://twitter.com/mattpocockuk/status/1502264005251018754?lang=en\n */\nfunction objectEntries(obj) {\n    return Object.entries(obj);\n}\nvar BrowserTransport = /** @class */ (function () {\n    function BrowserTransport() {\n    }\n    BrowserTransport.prototype.send = function (options, payload) {\n        return __awaiter(this, void 0, void 0, function () {\n            var headerArray, headers, requestInit, response, body;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        headerArray = options.headers ? objectEntries(options.headers) : [];\n                        headers = {};\n                        headerArray.forEach(function (_a) {\n                            var key = _a[0], value = _a[1];\n                            if (key != null && value != null) {\n                                headers[String(key)] = String(value);\n                            }\n                        });\n                        requestInit = {\n                            method: options.method,\n                            headers: headers\n                        };\n                        // GET methods cannot have a body.\n                        if (options.method === 'POST') {\n                            requestInit.body = payload ? JSON.stringify(sanitize(payload, options.maxObjectDepth)) : undefined;\n                        }\n                        return [4 /*yield*/, (0, util_1.globalThisOrWindow)().fetch(options.endpoint, requestInit)];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.text()];\n                    case 2:\n                        body = _a.sent();\n                        return [2 /*return*/, Promise.resolve({ statusCode: response.status, body: body })];\n                }\n            });\n        });\n    };\n    return BrowserTransport;\n}());\nexports.BrowserTransport = BrowserTransport;\n//# sourceMappingURL=transport.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Types = exports.getUserFeedbackScriptUrl = void 0;\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"./browser/util\");\nvar onerror_1 = require(\"./browser/integrations/onerror\");\nvar onunhandledrejection_1 = __importDefault(require(\"./browser/integrations/onunhandledrejection\"));\nvar breadcrumbs_1 = __importDefault(require(\"./browser/integrations/breadcrumbs\"));\nvar timers_1 = __importDefault(require(\"./browser/integrations/timers\"));\nvar event_listeners_1 = __importDefault(require(\"./browser/integrations/event_listeners\"));\nvar transport_1 = require(\"./browser/transport\");\nvar merge = core_1.Util.merge, filter = core_1.Util.filter, objectIsExtensible = core_1.Util.objectIsExtensible;\nvar getProjectRoot = function () {\n    var global = (0, util_1.globalThisOrWindow)();\n    var projectRoot = '';\n    // Cloudflare workers do not have access to location API.\n    if (global.location != null) {\n        projectRoot = global.location.protocol + '//' + global.location.host;\n    }\n    return projectRoot;\n};\nvar getUserFeedbackScriptUrl = function (version) {\n    var majorMinorVersion = version.split('.').slice(0, 2).join('.');\n    return \"https://js.honeybadger.io/v\".concat(majorMinorVersion, \"/honeybadger-feedback-form.js\");\n};\nexports.getUserFeedbackScriptUrl = getUserFeedbackScriptUrl;\nvar Honeybadger = /** @class */ (function (_super) {\n    __extends(Honeybadger, _super);\n    function Honeybadger(opts) {\n        if (opts === void 0) { opts = {}; }\n        var _this = _super.call(this, __assign({ userFeedbackEndpoint: 'https://api.honeybadger.io/v2/feedback', async: true, maxErrors: null, projectRoot: getProjectRoot() }, opts), new transport_1.BrowserTransport()) || this;\n        /** @internal */\n        _this.__errorsSent = 0;\n        /** @internal */\n        _this.__lastWrapErr = undefined;\n        /** @internal */\n        _this.__lastNoticeId = undefined;\n        /** @internal */\n        _this.__beforeNotifyHandlers = [\n            function (notice) {\n                if (_this.__exceedsMaxErrors()) {\n                    _this.logger.debug('Dropping notice: max errors exceeded', notice);\n                    return false;\n                }\n                if (notice && !notice.url && typeof document !== 'undefined') {\n                    notice.url = document.URL;\n                }\n                _this.__incrementErrorsCount();\n                return true;\n            }\n        ];\n        _this.__afterNotifyHandlers = [\n            function (_error, notice) {\n                if (notice) {\n                    _this.__lastNoticeId = notice.id;\n                }\n                return true;\n            }\n        ];\n        return _this;\n    }\n    Honeybadger.prototype.configure = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        return _super.prototype.configure.call(this, opts);\n    };\n    Honeybadger.prototype.resetMaxErrors = function () {\n        return (this.__errorsSent = 0);\n    };\n    Honeybadger.prototype.factory = function (opts) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new Honeybadger(opts);\n    };\n    Honeybadger.prototype.checkIn = function (_id) {\n        throw new Error('Honeybadger.checkIn() is not supported on the browser');\n    };\n    Honeybadger.prototype.showUserFeedbackForm = function (options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var global, script;\n            return __generator(this, function (_a) {\n                if (!this.config || !this.config.apiKey) {\n                    this.logger.debug('Client not initialized');\n                    return [2 /*return*/];\n                }\n                if (!this.__lastNoticeId) {\n                    this.logger.debug(\"Can't show user feedback form without a notice already reported\");\n                    return [2 /*return*/];\n                }\n                global = (0, util_1.globalThisOrWindow)();\n                if (typeof global.document === 'undefined') {\n                    this.logger.debug('global.document is undefined. Cannot attach script');\n                    return [2 /*return*/];\n                }\n                if (this.isUserFeedbackScriptUrlAlreadyVisible()) {\n                    this.logger.debug('User feedback form is already visible');\n                    return [2 /*return*/];\n                }\n                global['honeybadgerUserFeedbackOptions'] = __assign(__assign({}, options), { apiKey: this.config.apiKey, endpoint: this.config.userFeedbackEndpoint, noticeId: this.__lastNoticeId });\n                script = global.document.createElement('script');\n                script.setAttribute('src', this.getUserFeedbackSubmitUrl());\n                script.setAttribute('async', 'true');\n                if (options.onLoad) {\n                    script.onload = options.onLoad;\n                }\n                (global.document.head || global.document.body).appendChild(script);\n                return [2 /*return*/];\n            });\n        });\n    };\n    Honeybadger.prototype.isUserFeedbackScriptUrlAlreadyVisible = function () {\n        var global = (0, util_1.globalThisOrWindow)();\n        var feedbackScriptUrl = this.getUserFeedbackSubmitUrl();\n        for (var i = 0; i < global.document.scripts.length; i++) {\n            var script = global.document.scripts[i];\n            if (script.src === feedbackScriptUrl) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Honeybadger.prototype.getUserFeedbackSubmitUrl = function () {\n        return (0, exports.getUserFeedbackScriptUrl)(this.getVersion());\n    };\n    /** @internal */\n    Honeybadger.prototype.__buildPayload = function (notice) {\n        var cgiData = {\n            HTTP_USER_AGENT: undefined,\n            HTTP_REFERER: undefined,\n            HTTP_COOKIE: undefined\n        };\n        cgiData.HTTP_USER_AGENT = navigator.userAgent;\n        if (typeof document !== 'undefined' && document.referrer.match(/\\S/)) {\n            cgiData.HTTP_REFERER = document.referrer;\n        }\n        var cookiesObject;\n        if (typeof notice.cookies === 'string') {\n            cookiesObject = (0, util_1.decodeCookie)(notice.cookies);\n        }\n        else {\n            cookiesObject = notice.cookies;\n        }\n        if (cookiesObject) {\n            cgiData.HTTP_COOKIE = (0, util_1.encodeCookie)(filter(cookiesObject, this.config.filters));\n        }\n        var payload = _super.prototype.__buildPayload.call(this, notice);\n        payload.request.cgi_data = merge(cgiData, payload.request.cgi_data);\n        return payload;\n    };\n    /**\n     * wrap always returns the same function so that callbacks can be removed via\n     * removeEventListener.\n     * @internal\n     */\n    Honeybadger.prototype.__wrap = function (f, opts) {\n        if (opts === void 0) { opts = {}; }\n        var func = f;\n        if (!opts) {\n            opts = {};\n        }\n        try {\n            if (typeof func !== 'function') {\n                return func;\n            }\n            if (!objectIsExtensible(func)) {\n                return func;\n            }\n            if (!func.___hb) {\n                // eslint-disable-next-line @typescript-eslint/no-this-alias\n                var client_1 = this;\n                func.___hb = function () {\n                    if (util_1.preferCatch) {\n                        try {\n                            // eslint-disable-next-line prefer-rest-params\n                            return func.apply(this, arguments);\n                        }\n                        catch (err) {\n                            if (client_1.__lastWrapErr === err) {\n                                throw (err);\n                            }\n                            client_1.__lastWrapErr = err;\n                            (0, onerror_1.ignoreNextOnError)();\n                            client_1.addBreadcrumb(opts.component ? \"\".concat(opts.component, \": \").concat(err.name) : err.name, {\n                                category: 'error',\n                                metadata: {\n                                    message: err.message,\n                                    name: err.name,\n                                    stack: err.stack\n                                }\n                            });\n                            if (client_1.config.enableUncaught) {\n                                client_1.notify(err);\n                            }\n                            throw (err);\n                        }\n                    }\n                    else {\n                        // eslint-disable-next-line prefer-rest-params\n                        return func.apply(this, arguments);\n                    }\n                };\n            }\n            func.___hb.___hb = func.___hb;\n            return func.___hb;\n        }\n        catch (_e) {\n            return func;\n        }\n    };\n    /** @internal */\n    Honeybadger.prototype.__incrementErrorsCount = function () {\n        return this.__errorsSent++;\n    };\n    /** @internal */\n    Honeybadger.prototype.__exceedsMaxErrors = function () {\n        return this.config.maxErrors && this.__errorsSent >= this.config.maxErrors;\n    };\n    return Honeybadger;\n}(core_1.Client));\nvar core_2 = require(\"@honeybadger-io/core\");\nObject.defineProperty(exports, \"Types\", { enumerable: true, get: function () { return core_2.Types; } });\nexports.default = new Honeybadger({\n    __plugins: [\n        (0, onerror_1.onError)(),\n        (0, onunhandledrejection_1.default)(),\n        (0, timers_1.default)(),\n        (0, event_listeners_1.default)(),\n        (0, breadcrumbs_1.default)()\n    ]\n});\n//# sourceMappingURL=browser.js.map"],"names":["UNKNOWN_FUNCTION","chromeRe","chromeEvalRe","winjsRe","geckoRe","geckoEvalRe","javaScriptCoreRe","nodeRe","stackString","split","reduce","stack","line","parseResult","parts","exec","isNative","indexOf","isEval","submatch","file","methodName","arguments","lineNumber","column","parseChrome","parseWinjs","parseGecko","parseNode","parseJSC","push","__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","op","TypeError","pop","length","exports","isBrowserConfig","clone","formatCGIData","filterUrl","filter","generateStackTrace","instrument","isErrorObject","makeNotice","logger","sanitize","shallowClone","runBeforeNotifyHandlers","getSourceForBacktrace","getCauses","calculateBacktraceShift","DEFAULT_BACKTRACE_SHIFT","makeBacktrace","objectIsExtensible","objectIsEmpty","mergeNotice","merge","stackTraceParser","require$$0","obj1","obj2","filterHbSourceCode","console","backtrace","parse","map","method","number","splice","err","debug","isFrameFromHbSourceCode","frame","hasHbFile","hasHbMethod","toLowerCase","shift","i","nextFrame","obj","thing","Error","toString","filterMatch","key","filters","is","type","klass","slice","notice1","notice2","context","isExtensible","notice","cause","causes","class","name","message","getSourceFileHandler","index","trace","fileContent","_a","fileData","sourceRadius","lines","unshift","end","getSourceCodeSnippet","handlers","len","handler","runAfterNotifyHandlers","error","afterNotify","maxDepth","seenObjects","serialize","depth","typeOfObj","test","canSerialize","seen","Array","isArray","safeSerialize","ret","concat","client","log","args","_i","config","info","warn","String","object","replacement","original","__hb_original","_e","endpoint","base","path","trim","replace","maxStackSize","curr","callee","RegExp","$1","caller","join","newObj","url","query","forEach","pair","vars","prefix","formattedVars","keys","formattedKey","toUpperCase","JSON","stringify","async","store","GlobalStore","util_1","contents","breadcrumbsLimit","available","getContents","setContext","addBreadcrumb","breadcrumb","breadcrumbs","clear","run","callback","__assign","assign","s","p","Client","store_1","require$$1","notifier","version","TAG_SEPARATOR","NOT_BLANK","opts","transport","__pluginsExecuted","__store","__beforeNotifyHandlers","__afterNotifyHandlers","apiKey","environment","hostname","projectRoot","component","action","revision","reportData","breadcrumbsEnabled","maxBreadcrumbs","maxObjectDepth","developmentEnvironments","tags","enableUncaught","enableUnhandledRejection","afterUncaught","__plugins","__initStore","__transport","getVersion","configure","_this","plugin","load","beforeNotify","resetContext","notify","noticeable","extra","preConditionError","__developmentMode","sourceCodeData","beforeNotifyResult","category","metadata","__breadcrumbs","__getSourceFileHandler","sourcePerTrace","source","payload","__buildPayload","send","headers","Accept","res","statusCode","uuid","id","catch","notifyAsync","objectToOverride","partialNotice","originalAfterNotify","noticeTags","__constructTags","contextTags","configTags","uniqueTags","item","timestamp","Date","toISOString","__getBreadcrumbs","__getContext","includes","cgiData","enabled","trail","fingerprint","request","cgi_data","params","session","server","project_root","environment_name","time","toUTCString","details","tag","types","__exportStar","Util","Types","client_1","require$$2","require$$3","stringNameOfElement","element","tagName","stringClassNames","getAttribute","className","attrName","attr","siblings","nodes","parentNode","childNodes","siblings_1","node","getSiblings","func","parseURL","match","protocol","host","pathname","globalThisOrWindow","globalThis","self","window","util","encodeCookie","decodeCookie","nativeFetch","stringSelectorOfElement","parentName","stringTextOfElement","text","textContent","innerText","string","substr","truncate","global","fetch","sandbox","document","createElement","style","display","head","appendChild","contentWindow","removeChild","localURLPathname","parsed","parsedDocURL","URL","cookies","preferCatch","atob","ErrorEvent","colno","onerror","onError","ignoreNextOnError","currentTimeout","core_1","ignoreOnError","clearTimeout","setTimeout","_window","msg","col","onunhandledrejection","default","promiseRejectionEvent","reason","fileName","stackFallback","inspectArray","level","Function","addEventListener","event","selector","target","location","XMLHttpRequest","xhr","__hb_xhr","onreadystatechangeHandler","readyState","status_code","status","onreadystatechange","input","Request","response","lastHref","href","_event","recordUrlChange","history","historyWrapper","from","to","timers","instrumentTimer","wrapOpts","delay","args_1","__wrap","event_listeners","prop","listener","useCapture","wantsUntrusted","handleEvent","BrowserTransport","options","headerArray","requestInit","entries","extendStatics","__extends","d","b","setPrototypeOf","__proto__","__","constructor","__importDefault","getUserFeedbackScriptUrl","onerror_1","onunhandledrejection_1","breadcrumbs_1","require$$4","timers_1","require$$5","event_listeners_1","require$$6","transport_1","require$$7","getProjectRoot","majorMinorVersion","Honeybadger","_super","userFeedbackEndpoint","maxErrors","__errorsSent","__lastWrapErr","__lastNoticeId","__exceedsMaxErrors","__incrementErrorsCount","_error","resetMaxErrors","factory","checkIn","_id","showUserFeedbackForm","script","isUserFeedbackScriptUrlAlreadyVisible","noticeId","setAttribute","getUserFeedbackSubmitUrl","onLoad","onload","feedbackScriptUrl","scripts","src","cookiesObject","HTTP_USER_AGENT","HTTP_REFERER","HTTP_COOKIE","navigator","userAgent","referrer","___hb","core_2"],"mappings":"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"}